{"ast":null,"code":"var _jsxFileName = \"/home/fahim/Documents/AllMaterial/FullStack/Farhid/Gilanis-HomeBar/client/src/components/mainareaComponents/Loginform.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst axios = require(\"axios\");\n\nexport class Loginform extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      logUser: {\n        uemailadress: \"\",\n        upassword: \"\"\n      }\n    };\n\n    this.changeHandler = e => {\n      this.setState({\n        logUser: { ...this.state.logUser,\n          [e.target.id]: e.target.value\n        }\n      });\n    };\n\n    this.logUser = () => {\n      axios.post(\"http://localhost:5000/users/login\", this.state.logUser).then(res => {\n        console.log(res);\n\n        if (res.data.msg === \"user does not exist\") {\n          alert(`This user does'nt exist. Please Register First.`);\n          window.location.href = \"/register\";\n        } else if (res.data.token) {\n          localStorage.setItem(\"user\", res.data.token);\n          localStorage.setItem(\"uvorname\", JSON.parse(window.atob(res.data.token.split(\".\")[1])).uvorname);\n          console.log(JSON.parse(window.atob(localStorage.getItem(\"user\").split(\".\")[1])));\n          window.location.href = \"/welcome\";\n        }\n      });\n    };\n  }\n\n  /* ---------------------------------------------------------------------------------------- */\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"headline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"addcontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"addform\",\n      onSubmit: e => {\n        e.preventDefault();\n        this.logUser();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"fildlable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"E-Mail Adresse*:\"), React.createElement(\"input\", {\n      className: \"addfild\",\n      id: \"uemailadress\",\n      type: \"text\",\n      onChange: this.changeHandler,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"fildlable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Password*:\"), React.createElement(\"input\", {\n      className: \"addfild\",\n      id: \"upassword\",\n      type: \"password\",\n      minLength: \"4\",\n      onChange: this.changeHandler,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"logorout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/welcome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"btnabbrechen\",\n      type: \"button\",\n      value: \"Abbrechen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      className: \"btnlogin\",\n      type: \"submit\",\n      value: \"Jetzt Einlogen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"anylink\",\n      to: \"/passabfrage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Passwort vergessen?\")))));\n  }\n\n}\nexport default Loginform;","map":{"version":3,"sources":["/home/fahim/Documents/AllMaterial/FullStack/Farhid/Gilanis-HomeBar/client/src/components/mainareaComponents/Loginform.js"],"names":["React","Component","Link","axios","require","Loginform","state","logUser","uemailadress","upassword","changeHandler","e","setState","target","id","value","post","then","res","console","log","data","msg","alert","window","location","href","token","localStorage","setItem","JSON","parse","atob","split","uvorname","getItem","render","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,OAAO,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAAA;AAAA;AAAA,SACvCK,KADuC,GAC/B;AACNC,MAAAA,OAAO,EAAE;AACPC,QAAAA,YAAY,EAAE,EADP;AAEPC,QAAAA,SAAS,EAAE;AAFJ;AADH,KAD+B;;AAAA,SAQvCC,aARuC,GAQvBC,CAAC,IAAI;AACnB,WAAKC,QAAL,CAAc;AACZL,QAAAA,OAAO,EAAE,EACP,GAAG,KAAKD,KAAL,CAAWC,OADP;AAEP,WAACI,CAAC,CAACE,MAAF,CAASC,EAAV,GAAeH,CAAC,CAACE,MAAF,CAASE;AAFjB;AADG,OAAd;AAMD,KAfsC;;AAAA,SAiBvCR,OAjBuC,GAiB7B,MAAM;AACdJ,MAAAA,KAAK,CACFa,IADH,CACQ,mCADR,EAC6C,KAAKV,KAAL,CAAWC,OADxD,EAEGU,IAFH,CAEQC,GAAG,IAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAIA,GAAG,CAACG,IAAJ,CAASC,GAAT,KAAiB,qBAArB,EAA4C;AAC1CC,UAAAA,KAAK,CAAE,iDAAF,CAAL;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,WAAvB;AACD,SAHD,MAGO,IAAIR,GAAG,CAACG,IAAJ,CAASM,KAAb,EAAoB;AACzBC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BX,GAAG,CAACG,IAAJ,CAASM,KAAtC;AACAC,UAAAA,YAAY,CAACC,OAAb,CACE,UADF,EAEEC,IAAI,CAACC,KAAL,CAAWP,MAAM,CAACQ,IAAP,CAAYd,GAAG,CAACG,IAAJ,CAASM,KAAT,CAAeM,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAZ,CAAX,EAAsDC,QAFxD;AAIAf,UAAAA,OAAO,CAACC,GAAR,CACEU,IAAI,CAACC,KAAL,CAAWP,MAAM,CAACQ,IAAP,CAAYJ,YAAY,CAACO,OAAb,CAAqB,MAArB,EAA6BF,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAZ,CAAX,CADF;AAGAT,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,UAAvB;AACD;AACF,OAlBH;AAmBD,KArCsC;AAAA;;AAuCvC;AAEAU,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,SADZ;AAEE,MAAA,QAAQ,EAAEzB,CAAC,IAAI;AACbA,QAAAA,CAAC,CAAC0B,cAAF;AACA,aAAK9B,OAAL;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAUE;AAAO,MAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAVF,EAWE;AACE,MAAA,SAAS,EAAC,SADZ;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,QAAQ,EAAE,KAAKG,aAJjB;AAKE,MAAA,QAAQ,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,EAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBF,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,EAqBE;AAAO,MAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBArBF,EAsBE;AACE,MAAA,SAAS,EAAC,SADZ;AAEE,MAAA,EAAE,EAAC,WAFL;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,SAAS,EAAC,GAJZ;AAKE,MAAA,QAAQ,EAAE,KAAKA,aALjB;AAME,MAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBF,EA8BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9BF,EA+BE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,KAAK,EAAC,WAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAQE;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,KAAK,EAAC,gBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CA/BF,EA8CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,SAAhB;AAA0B,MAAA,EAAE,EAAC,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CA9CF,CADF,CAJF,CADF;AA6DD;;AAvGsC;AA0GzC,eAAeL,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nconst axios = require(\"axios\");\n\nexport class Loginform extends Component {\n  state = {\n    logUser: {\n      uemailadress: \"\",\n      upassword: \"\"\n    }\n  };\n\n  changeHandler = e => {\n    this.setState({\n      logUser: {\n        ...this.state.logUser,\n        [e.target.id]: e.target.value\n      }\n    });\n  };\n\n  logUser = () => {\n    axios\n      .post(\"http://localhost:5000/users/login\", this.state.logUser)\n      .then(res => {\n        console.log(res);\n        if (res.data.msg === \"user does not exist\") {\n          alert(`This user does'nt exist. Please Register First.`);\n          window.location.href = \"/register\";\n        } else if (res.data.token) {\n          localStorage.setItem(\"user\", res.data.token);\n          localStorage.setItem(\n            \"uvorname\",\n            JSON.parse(window.atob(res.data.token.split(\".\")[1])).uvorname\n          );\n          console.log(\n            JSON.parse(window.atob(localStorage.getItem(\"user\").split(\".\")[1]))\n          );\n          window.location.href = \"/welcome\";\n        }\n      });\n  };\n\n  /* ---------------------------------------------------------------------------------------- */\n\n  render() {\n    return (\n      <div className=\"login\">\n        <div className=\"headline\">\n          <span>Login</span>\n        </div>\n        <div className=\"addcontainer\">\n          <form\n            className=\"addform\"\n            onSubmit={e => {\n              e.preventDefault();\n              this.logUser();\n            }}\n          >\n            <br></br>\n\n            <br></br>\n            <label className=\"fildlable\">E-Mail Adresse*:</label>\n            <input\n              className=\"addfild\"\n              id=\"uemailadress\"\n              type=\"text\"\n              onChange={this.changeHandler}\n              required\n            />\n            <br></br>\n\n            <br></br>\n            <label className=\"fildlable\">Password*:</label>\n            <input\n              className=\"addfild\"\n              id=\"upassword\"\n              type=\"password\"\n              minLength=\"4\"\n              onChange={this.changeHandler}\n              required\n            />\n            <br></br>\n            <div className=\"logorout\">\n              <Link to=\"/welcome\">\n                <input\n                  className=\"btnabbrechen\"\n                  type=\"button\"\n                  value=\"Abbrechen\"\n                />\n              </Link>\n              <input\n                className=\"btnlogin\"\n                type=\"submit\"\n                value=\"Jetzt Einlogen\"\n              />\n            </div>\n\n            <div>\n              <Link className=\"anylink\" to=\"/passabfrage\">\n                Passwort vergessen?\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Loginform;\n"]},"metadata":{},"sourceType":"module"}